%%% Style %%%

\newcommand{\myparagraph}[1]{\paragraph{#1}\mbox{}\\}
\newsavebox\CBox
\newcommand\hcancel[2][0.5pt]{%
  \ifmmode\sbox\CBox{$#2$}\else\sbox\CBox{#2}\fi%
  \makebox[0pt][l]{\usebox\CBox}%  
  \rule[0.5\ht\CBox-#1/2]{\wd\CBox}{#1}}
  
% Abbreviations

\newcommand{\skillmodelabbr}{GGTWreP}
\newcommand{\skillmodel}{graph-guided twist-wrench policy approximation}
\newcommand{\skillmodelcap}{Graph-Guided Twist-Wrench Policy Approximation}
\newcommand{\platformname}{Franka Emika Robot}
\newcommand{\softwarecap}{Machine Intelligence Operation System}
\newcommand{\software}{Machine Intelligence Operating System}
\newcommand{\softwareabbr}{MIOS}

\newcommand{\task}{\iota}
\newcommand{\skill}{\varsigma}

% Wrench
\newcommand{\wrench}{\boldsymbol{f}}
\newcommand{\dwrench}{\dot{\boldsymbol{f}}}
\newcommand{\ddwrench}{\ddot{\boldsymbol{f}}}
\newcommand{\wrenchd}{\boldsymbol{f}_d}
\newcommand{\dwrenchd}{\dot{\boldsymbol{f}}_d}
\newcommand{\ddwrenchd}{\ddot{\boldsymbol{f}}_d}
\newcommand{\wrenchdd}[1]{\boldsymbol{f}_\text{d,#1}}
\newcommand{\wrenchff}{\boldsymbol{f}_{ff}}
\newcommand{\dwrenchff}{\dot{\boldsymbol{f}}_{ff}}
\newcommand{\ddwrenchff}{\dot{\boldsymbol{f}}_{ff}}
\newcommand{\extwrench}{\boldsymbol{f}_\text{ext}}
\newcommand{\extwrenchd}[1]{\boldsymbol{f}_\text{ext,#1}}

% Torque
\newcommand{\torque}{\boldsymbol{\tau}}
\newcommand{\dtorque}{\dot{\boldsymbol{\tau}}}
\newcommand{\ddtorque}{\ddot{\boldsymbol{\tau}}}
\newcommand{\torqued}{\boldsymbol{\tau}_d}
\newcommand{\dtorqued}{\dot{\boldsymbol{\tau}}_d}
\newcommand{\ddtorqued}{\ddot{\boldsymbol{\tau}}_d}
\newcommand{\exttorque}{\boldsymbol{\tau}_\text{ext}}

% Motion and kinematics
\newcommand{\q}{\boldsymbol{q}}
\newcommand{\dq}{\dot{\boldsymbol{q}}}
\newcommand{\ddq}{\ddot{\boldsymbol{q}}}
\newcommand{\posem}{\boldsymbol{T}}
\newcommand{\posemd}{\boldsymbol{T}_d}
\newcommand{\posev}{\boldsymbol{x}}
\newcommand{\posevd}{\boldsymbol{x}_d}
\newcommand{\twist}{\dot{\boldsymbol{x}}}
\newcommand{\twistd}{\dot{\boldsymbol{x}}_d}
\newcommand{\acc}{\ddot{\boldsymbol{x}}}
\newcommand{\accd}{\ddot{\boldsymbol{x}}_d}

% Dynamics
\newcommand{\stiffnesscart}{\boldsymbol{K}_x}
\newcommand{\stiffnesscartd}{\boldsymbol{K}_{x,d}}
\newcommand{\stiffness}{\boldsymbol{K}}
\newcommand{\stiffnessd}{\boldsymbol{K}}
\newcommand{\dampingcart}{\boldsymbol{D}_x}
\newcommand{\damping}{\boldsymbol{D}}
\newcommand{\jacobian}{\boldsymbol{J}_x}
\newcommand{\massmatrix}{\boldsymbol{M}}
\newcommand{\coriolis}{\boldsymbol{C}}
\newcommand{\gravityvector}{\boldsymbol{g}}
\newcommand{\frictionest}{\boldsymbol{\tau}_\chi}

% Taxonomy

\newcommand{\policy}{\boldsymbol{\pi}_d}
\newcommand{\policyi}[1]{\boldsymbol{\pi}_{d,#1}}
\newcommand{\policyset}{\Pi}
\newcommand{\policyopt}{\pi^\star}
\newcommand{\process}{\textit{p}}
\newcommand{\processset}{\mathcal{P}}
\newcommand{\taxonomyalg}{\mathcal{T}}
\newcommand{\taxonomychoice}{\textit{c}}


% Process
\newcommand{\object}{\mathit{o}}
\newcommand{\objectset}{\mathcal{O}}
\newcommand{\stateinit}{s_0}
\newcommand{\statefinal}{s_1}
\newcommand{\statepolicy}{s_\pi}
\newcommand{\stateerror}{s_e}
\newcommand{\state}{s}
\newcommand{\stateset}{S}
\newcommand{\condpre}{\mathcal{C}_\text{pre}}
\newcommand{\condsuc}{\mathcal{C}_\text{suc}}
\newcommand{\conderr}{\mathcal{C}_\text{err}}
\newcommand{\condprei}{\mathcal{C}_{\text{pre},0}}
\newcommand{\condsuci}{\mathcal{C}_{\text{suc},0}}
\newcommand{\conderri}{\mathcal{C}_{\text{err},0}}
\newcommand{\transitionset}{\Delta}
\newcommand{\transition}{\delta}

% GGTWreP

%\newcommand{\endeffector}{\text{EE}}
\newcommand{\roi}{\text{ROI}}
\newcommand{\maxtime}{t_\text{max}}
\newcommand{\maxtorque}{\boldsymbol{\tau}_\text{ext,max}}
\newcommand{\maxwrench}{\boldsymbol{f}_\text{ext,max}}
\newcommand{\maxtwist}{\dot{\boldsymbol{x}}_\text{max}}
\newcommand{\maxacc}{\ddot{\boldsymbol{x}}_\text{max}}
\newcommand{\objectpose}[1]{T_{\object_#1}}
\newcommand{\percept}{\boldsymbol{\Omega}}
\newcommand{\constraints}{\mathbb{C}}
\newcommand{\menv}{\mathbb{E}}
\newcommand{\worldstatespace}{\mathcal{W}}
\newcommand{\worldstate}{\mathit{w}}
\newcommand{\paramsopt}{\boldsymbol{\theta}^\star}
\newcommand{\params}{\boldsymbol{\theta}}
\newcommand{\paramsskill}{\boldsymbol{\theta}_\pi}
\newcommand{\paramscontrol}{\boldsymbol{\theta}_c}
\newcommand{\param}{\theta}
\newcommand{\req}{\mathcal{R}}
\newcommand{\effects}{\mathit{E}}
\newcommand{\domain}{\mathbb{D}}
\newcommand{\commands}{\mathcal{C}}
\newcommand{\semantica}{\mathcal{I}_1}
\newcommand{\semanticb}{\mathcal{I}_2}
\newcommand{\sendeffector}{\text{EE}}
\newcommand{\primitive}{\textit{p}}
\newcommand{\primitives}{\textit{P}}
\newcommand{\taskframe}{\text{T}}

% Others
\newcommand{\physicalstate}{\boldsymbol{\varsigma}}


% Learning
\newcommand{\dataset}{\mathfrak{D}}
\newcommand{\quality}{\mathcal{Q}}

% Planning
\newcommand{\assemblypart}{\rho}
\newcommand{\assemblypartset}{\Gamma}
\newcommand{\assembly}{\mathcal{A}}
\newcommand{\graph}{G}
\newcommand{\worker}{w}
\newcommand{\workerset}{W}
\newcommand{\assemblysequence}{\alpha}
\newcommand{\assemblyaction}{a}
\newcommand{\assemblystate}{\zeta}
\newcommand{\assemblystateset}{\mathcal{Z}}


% Helper

\newcommand{\zerovec}{\boldsymbol{0}}
\newcommand{\V}[1]{\boldsymbol{#1}}
\newcommand{\err}[2]{\mathit{e}_{\text{#1}}\pm {#2}\text{ m}}
\newcommand{\senvaround}[1]{\mathcal{U}(#1)}
\newcommand{\senvaroundd}[2]{\mathcal{U}_{#2}(#1)}
\newcommand{\paramtoprow}{Parameter & Description & Size \\}
\newcommand{\RNum}[1]{\uppercase\expandafter{\romannumeral #1\relax}}
\newcommand{\mysubparagraph}[1]{\subparagraph{#1}\mbox{}\\}


% units
\newcommand{\unitmpers}{\frac{\text{m}}{\text{s}}}
\newcommand{\unitrpers}{\frac{\text{rad}}{\text{s}}}
\newcommand{\unitmperss}{\frac{\text{m}}{\text{s}^2}}
\newcommand{\unitrperss}{\frac{\text{rad}}{\text{s}^2}}
\newcommand{\unitnewton}{\text{N}}
\newcommand{\unitnewtonm}{\text{Nm}}
\newcommand{\unitfreq}{\text{Hz}}
\newcommand{\unitrad}{\text{rad}}
\newcommand{\unitsec}{\text{s}}



% Policies
\newcommand{\freq}{\upsilon}
\newcommand{\twistg}[1]{
\ifthenelse{\equal{#1}{}}
{\twist_g}
{
\twist_{g,#1}
}
}
\newcommand{\accg}[1]{
\ifthenelse{\equal{#1}{}}
{\acc_g}
{
\acc_{g,#1}
}
}
\newcommand{\mposegen}{f_{pg}}
\newcommand{\mtwistgen}{f_{tg}}
\newcommand{\mwrenchgen}{f_{wg}}
\newcommand{\mfgrasp}{f_\text{grasp}}

\newcommand{\mmovetopose}[2]{\twistd=\mposegen(T_{\object_#1},\twistg{\mprimitive_#2},\accg{\mprimitive_#2})}

\newcommand{\mmovetodir}[2]{\twistd=\mtwistgen(#1,\twistg{\mprimitive_#2},\accg{\mprimitive_#2})}
\newcommand{\mtwistzero}{\twistd = \V{0}}
\newcommand{\mwrenchzero}{\wrenchd = \V{0}}
\newcommand{\mwrenchgrasponly}{\wrenchd = \left[\begin{array}{cc} \V{0} \quad \mfgrasp \end{array}\right]^T}
\newcommand{\mwrenchstatic}[2]{\wrenchd = \left[\begin{array}{cc} \V{F}_\text{#1} \quad \ifthenelse{\equal{#2}{}}
{0}
{\mfgrasp} \end{array}\right]^T}
\newcommand{\mwrenchwiggle}[2]{\wrenchd = \left[\begin{array}{cc} \V{a} \sin(2\pi \V{f} t + \V{\varphi}) \ifthenelse{\equal{#2}{}}
{}
{+ #2} \quad #1 \end{array}\right]^T}

\newcommand{\mtwistmovewiggle}[2]{\twistd = \mposegen(T_{\object_#1},\twistg{\mprimitive_#2},\accg{\mprimitive_#2}) + \left[\begin{array}{cc} \V{a} \sin(2\pi \V{f} t) \quad 0 \end{array}\right]^T}


\newcommand{\mposegenlin}{f_{lpg}}
\newcommand{\mposegenrot}{f_{rpg}}

\newcommand{\polmovetoposelin}[1]{\mposegenlin(T_{\object_#1},\twistg,\accg)}
\newcommand{\polmovetoposerot}[1]{\mposegenrot(T_{\object_#1},\twistg,\accg)}
\newcommand{\polmovetopose}[1]{\mposegen(T_{\object_#1},\twistg,\accg)}
\newcommand{\polzero}{\V{0}}

\newcommand{\polwrenchgrasponly}{\left[\begin{array}{cc} \V{0} \quad \mfgrasp \end{array}\right]^T}
\newcommand{\polwrenchstatic}{\left[\begin{array}{cc} \V{f}_\text{Const.} \quad \mfgrasp \end{array}\right]^T}

\newcommand{\poltwistmovelinwiggle}[1]{\mposegenlin(T_{\object_#1},\twistg,\accg) + \left[\begin{array}{cc} \V{a} \sin(2\pi \V{f} t) \quad 0 \end{array}\right]^T}
\newcommand{\poltwistmoverotwiggle}[1]{\mposegenrot(T_{\object_#1},\twistg,\accg) + \left[\begin{array}{cc} \V{a} \sin(2\pi \V{f} t) \quad 0 \end{array}\right]^T}
\newcommand{\poltwistmovewiggle}[1]{\mposegen(T_{\object_#1},\twistg,\accg) + \left[\begin{array}{cc} \V{a} \sin(2\pi \V{f} t) \quad 0 \end{array}\right]^T}

\newcommand{\poltwistwiggle}{\left[\begin{array}{cc} \V{a} \sin(2\pi \V{f} t) \quad 0 \end{array}\right]^T}

\newcommand{\polwrenchstaticwiggle}{\left[\begin{array}{cc} \V{a} \sin(2\pi \V{f} t + \V{\varphi}) + \V{f}_\text{Const.} \quad \mfgrasp \end{array}\right]^T}

\newcommand{\polwrenchwiggle}{\left[\begin{array}{cc} \V{a} \sin(2\pi \V{f} t + \V{\varphi}) \quad \mfgrasp \end{array}\right]^T}

\newcommand{\policyfun}[2]{\begin{array}{rl}\twistd&=#1\\\wrenchd&=#2\end{array}}

% For revision
\newcommand{\TODO}{\hl{\textbf{TODO}}}
\newcommand{\redtext}[1]{\textcolor{red}{#1}}